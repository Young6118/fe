<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTML+CSS | Young&#39;s blog</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/fe/logo.jpg">
    <meta name="description" content="周洋的个人网站">
    <link rel="preload" href="/fe/assets/css/0.styles.32128c35.css" as="style"><link rel="preload" href="/fe/assets/js/app.d23a5e43.js" as="script"><link rel="preload" href="/fe/assets/js/2.c035809e.js" as="script"><link rel="preload" href="/fe/assets/js/8.97cae8c9.js" as="script"><link rel="prefetch" href="/fe/assets/js/10.6b8b3b36.js"><link rel="prefetch" href="/fe/assets/js/11.b04f4d41.js"><link rel="prefetch" href="/fe/assets/js/3.54d3a012.js"><link rel="prefetch" href="/fe/assets/js/4.03f8a3b1.js"><link rel="prefetch" href="/fe/assets/js/5.0455a42c.js"><link rel="prefetch" href="/fe/assets/js/6.59005806.js"><link rel="prefetch" href="/fe/assets/js/7.6e1deafe.js"><link rel="prefetch" href="/fe/assets/js/9.cb65b6d3.js">
    <link rel="stylesheet" href="/fe/assets/css/0.styles.32128c35.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe/" class="home-link router-link-active"><!----> <span class="site-name">Young's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fe/fe/" class="nav-link router-link-active">
  前端基础
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fe/fe/" class="nav-link router-link-active">
  前端基础
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/fe/fe/" aria-current="page" class="sidebar-link">/fe/</a></li><li><a href="/fe/fe/vue.html" class="sidebar-link">Vue</a></li><li><a href="/fe/fe/JS.html" class="sidebar-link">JavaScript</a></li><li><a href="/fe/fe/函数.html" class="sidebar-link">函数</a></li><li><a href="/fe/fe/html+css.html" aria-current="page" class="active sidebar-link">HTML+CSS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe/fe/html+css.html#不定宽高div，水平竖直居中" class="sidebar-link">不定宽高DIV，水平竖直居中</a></li><li class="sidebar-sub-header"><a href="/fe/fe/html+css.html#三栏布局" class="sidebar-link">三栏布局</a></li><li class="sidebar-sub-header"><a href="/fe/fe/html+css.html#三角形" class="sidebar-link">三角形</a></li><li class="sidebar-sub-header"><a href="/fe/fe/html+css.html#_1px-边框" class="sidebar-link">1px 边框</a></li><li class="sidebar-sub-header"><a href="/fe/fe/html+css.html#移动端适配" class="sidebar-link">移动端适配</a></li></ul></li><li><a href="/fe/fe/面经.html" class="sidebar-link">面经</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="html-css"><a href="#html-css" class="header-anchor">#</a> HTML+CSS</h1> <h2 id="不定宽高div，水平竖直居中"><a href="#不定宽高div，水平竖直居中" class="header-anchor">#</a> 不定宽高DIV，水平竖直居中</h2> <ol><li>css方法</li></ol> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.parent</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> table-cell<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.parent .child</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2.css3方法</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.parent</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.parent .child</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="三栏布局"><a href="#三栏布局" class="header-anchor">#</a> 三栏布局</h2> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.main::after</span><span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left</span><span class="token punctuation">{</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #631D9F<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span><span class="token punctuation">{</span>
    <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.center</span><span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #4990E2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="三角形"><a href="#三角形" class="header-anchor">#</a> 三角形</h2> <p>高宽设置为0，边框粗细设置为上边框0，颜色透明；左右边框粗细40px，颜色透明；下边框粗细40px，红色。得到箭头向上红色三角形。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">border-width</span><span class="token punctuation">:</span> 0 40px 40px<span class="token punctuation">;</span>
    <span class="token property">border-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> transparent transparent red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>需要带边框？使用伪元素，相对于三角形顶点绝对定位，留出1px宽</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">div:after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> -38px<span class="token punctuation">;</span>
    <span class="token property">border-width</span><span class="token punctuation">:</span> 0 38px 38px<span class="token punctuation">;</span>
    <span class="token property">border-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> transparent transparent yellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>三角形箭头，向下多1px</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">div:after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> -38px<span class="token punctuation">;</span>
    <span class="token property">border-width</span><span class="token punctuation">:</span> 0 38px 38px<span class="token punctuation">;</span>
    <span class="token property">border-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> transparent transparent #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>右直角三角形，设置左boder为0，左直角三角形，设置右border为0。</p> <h2 id="_1px-边框"><a href="#_1px-边框" class="header-anchor">#</a> 1px 边框</h2> <p>通常，我们使用css去设置1像素边框时候，由于1px并非物理像素，也就是手机dpr和px不一致，所以会造成与设计稿边框粗细不一致的问题。</p> <h3 id="解决方法-1：伪类-transform"><a href="#解决方法-1：伪类-transform" class="header-anchor">#</a> 解决方法 1：伪类+transform</h3> <p>底部画一个变框</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.border-line</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 注意做transform变化的原点是(0,0) */</span>
<span class="token selector">.border:after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #cccccc<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transform-origin</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span>
    <span class="token property">-webkit-transform-orgin</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>一周画变框且带有圆角</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.border:after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #cccccc<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 26px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transform-origin</span><span class="token punctuation">:</span> left top<span class="token punctuation">;</span>
    <span class="token property">-webkit-transform-orgin</span><span class="token punctuation">:</span> left top<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="解决方法-2：rem-viewport"><a href="#解决方法-2：rem-viewport" class="header-anchor">#</a> 解决方法 2：rem + viewport</h3> <p>dpr devicePixelRatio</p> <p>当前显示设备的物理像素分辨率与 CSS 像素分辨率的比率</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设计稿尺寸</span>
    <span class="token keyword">var</span> designWidth <span class="token operator">=</span> <span class="token number">360</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取设备宽度</span>
    <span class="token keyword">var</span> clientWidth <span class="token operator">=</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token comment">// 获取设备像素比例</span>
    <span class="token keyword">var</span> dpr <span class="token operator">=</span> window<span class="token punctuation">.</span>devicePixelRatio<span class="token punctuation">;</span>
    <span class="token comment">// 创建空 meta 元素</span>
    <span class="token keyword">var</span> viewportEle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'meta'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 实际像素数 比例 * 设备宽度</span>
    <span class="token comment">// 设置根节点元素字体大小，rem的依据；如果屏幕宽度超出设计稿尺寸，字体设置为20px，否则，字体设置为 20 * 物理比例 * 设备宽度 / 设计稿尺寸</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> clientWidth <span class="token operator">&gt;</span> designWidth <span class="token operator">?</span> <span class="token string">'20px'</span> <span class="token operator">:</span> <span class="token number">20</span> <span class="token operator">*</span> dpr <span class="token operator">*</span> clientWidth <span class="token operator">/</span> designWidth <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置元素 name</span>
    viewportEle<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'viewport'</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置元素内容</span>
    viewportEle<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">initial-scale=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">1.0</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">/</span> dpr<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, maximum-scale=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">1.0</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">/</span> dpr<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, minimum-scale=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">1.0</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">/</span> dpr<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, user-scale=no, width=device-width</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token comment">// 获取第一个 meta 元素</span>
    <span class="token keyword">var</span> metaEle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'meta'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token comment">// 在其父元素内最前方已有的 meta 元素前面插入设置视图宽度的元素</span>
    metaEle<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>viewportEle<span class="token punctuation">,</span> metaEle<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>样式</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.border-line</span> <span class="token punctuation">{</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #cccccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>避免浏览器自动放大字体大小的问题</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">html</span> <span class="token punctuation">{</span>
    <span class="token property">text-size-adjust</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="移动端适配"><a href="#移动端适配" class="header-anchor">#</a> 移动端适配</h2> <h3 id="rem"><a href="#rem" class="header-anchor">#</a> rem</h3> <h4 id="第一步，需要设置视口的缩放比例"><a href="#第一步，需要设置视口的缩放比例" class="header-anchor">#</a> 第一步，需要设置视口的缩放比例</h4> <p>适用于 dpr 为 1 的情况</p> <div class="language-css extra-class"><pre class="language-css"><code>&lt;!-- dpr = 1--&gt;
&lt;meta name=<span class="token string">&quot;viewport&quot;</span> content=<span class="token string">&quot;width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;&quot;</span>&gt;
</code></pre></div><p>但实际上，devicePixelRatio 并不是 1，需要我们通过 js 获取后，用 1 除以设备像素比例，得到真实的缩放比，再设置到 viewport 中。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token comment">//下面是根据设备dpr设置viewport</span>
 <span class="token keyword">var</span> dpr <span class="token operator">=</span> window<span class="token punctuation">.</span>devicePixelRatio <span class="token operator">||</span> <span class="token number">1</span>
 <span class="token keyword">var</span> scale <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> dpr
 viewport<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>
    <span class="token string">&quot;content&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;width=device-width&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;,initial-scale=&quot;</span> <span class="token operator">+</span>
     scale <span class="token operator">+</span>
    <span class="token string">&quot;, maximum-scale=&quot;</span> <span class="token operator">+</span>
     scale <span class="token operator">+</span>
    <span class="token string">&quot;, minimum-scale=&quot;</span> <span class="token operator">+</span>
     scale <span class="token operator">+</span>
    <span class="token string">&quot;, user-scalable=no&quot;</span>
<span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li><p>viewport标签只对移动端浏览器有效，对PC端浏览器是无效的</p></li> <li><p>当缩放比例为100%时，逻辑像素 = CSS 像素宽度 = 理想视口的宽度 = 布局视口的宽度</p></li> <li><p>单独设置initial-scale或 width都会有兼容性问题，所以设置布局视口为理想视口的最佳方法是同时设置这两个属性</p></li> <li><p>即使设置了user-scalable = no，在Android Chrome浏览器中也可以强制启用手动缩放</p></li></ul></div> <h4 id="第二步，设置-rem-基准值"><a href="#第二步，设置-rem-基准值" class="header-anchor">#</a> 第二步，设置 rem 基准值</h4> <h5 id="原生-js"><a href="#原生-js" class="header-anchor">#</a> 原生 js</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// set 1rem = 逻辑像素（设备独立像素） / 10</span>
<span class="token keyword">function</span> <span class="token function">setRemUnit</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> rem <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth <span class="token operator">/</span> <span class="token number">10</span>
    <span class="token comment">// 375/10 = 37.5</span>
    docEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> rem <span class="token operator">+</span> <span class="token string">'px'</span>
<span class="token punctuation">}</span>
<span class="token function">setRemUnit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>将html节点的font-size设置为页面clientWidth(布局视口)的1/10，即：1rem = 布局视口的1/10</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>例如：在iphone6下：docEl.clientWidth=设备独立像素（逻辑像素）= 布局视口宽度 = 理想窗口宽度 = 375。此时：1rem = 375/10 +px = 37.5px</p></div> <h5 id="postcss-pxtorem将单位转化为-rem"><a href="#postcss-pxtorem将单位转化为-rem" class="header-anchor">#</a> postcss-pxtorem将单位转化为 rem</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'autoprefixer'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      browsers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Android &gt;= 4.0'</span><span class="token punctuation">,</span> <span class="token string">'iOS &gt;= 7'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'postcss-pxtorem'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        rootValue<span class="token operator">:</span> <span class="token number">37.5</span><span class="token punctuation">,</span>
        propList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token string">'!font-size'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        selectorBlackList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'van-circle__layer'</span><span class="token punctuation">,</span> <span class="token string">'ignore'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>rootValue</code>是转换<code>px</code>的基准值，参考设备<code>iPhone6</code>，设备宽度<code>375px</code></p> <p>规则：基准值=当前设备宽度的<code>1/10</code></p> <p>基准值设置代码中，在<code>iPhone6</code>设备设置的<code>html</code>—&gt;<code>font-size</code> 也为<code>37.5px</code></p> <p>但是设计稿尺寸<code>750px</code>大小，所以量取设计稿量尺寸的时候需要除以<code>2</code></p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>css样式和js代码有一定的耦合性</p> <p>必须将改变font-size的代码放在css样式之前</p></div> <h3 id="vw"><a href="#vw" class="header-anchor">#</a> vw</h3> <p><code>vw</code> <code>Viewport</code> 视窗的长度单位，<code>window.innerWidth/window.innerHeight</code></p> <ul><li><code>vw</code>：是<code>Viewport's width</code>的简写,<code>1vw</code>等于<code>window.innerWidth</code>的<code>1%</code></li> <li><code>vh</code>：和<code>vw</code>类似，是<code>Viewport's height</code>的简写，<code>1vh</code>等于<code>window.innerHeihgt</code>的<code>1%</code></li> <li><code>vmin</code>：<code>vmin</code>的值是当前<code>vw</code>和<code>vh</code>中较小的值</li> <li><code>vmax</code>：<code>vmax</code>的值是当前<code>vw</code>和<code>vh</code>中较大的值</li></ul> <p>使用<code>PostCSS</code>的插件<code>postcss-px-to-viewport</code>，直接在代码中写 <code>px</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    loader<span class="token operator">:</span> <span class="token string">'postcss-loader'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">plugins</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">[</span>
            <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'autoprefixer'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                browsers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'last 5 versions'</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'postcss-px-to-viewport'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                viewportWidth<span class="token operator">:</span> <span class="token number">375</span><span class="token punctuation">,</span> <span class="token comment">//视口宽度（数字)</span>
                viewportHeight<span class="token operator">:</span> <span class="token number">1334</span><span class="token punctuation">,</span> <span class="token comment">//视口高度（数字）</span>
                unitPrecision<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">//设置的保留小数位数（数字）</span>
                viewportUnit<span class="token operator">:</span> <span class="token string">'vw'</span><span class="token punctuation">,</span> <span class="token comment">//设置要转换的单位（字符串）</span>
                selectorBlackList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.ignore'</span><span class="token punctuation">,</span> <span class="token string">'.hairlines'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//不需要进行转换的类名（数组）</span>
                minPixelValue<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//设置要替换的最小像素值（数字）</span>
                mediaQuery<span class="token operator">:</span> <span class="token boolean">false</span><span class="token comment">//允许在媒体查询中转换px（true/false）</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
       <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="搭配-vw-和-rem"><a href="#搭配-vw-和-rem" class="header-anchor">#</a> 搭配 vw 和 rem</h3> <p>给根元素大小设置随着视口变化而变化的vw单位，这样就可以实现动态改变其大小</p> <p>限制根元素字体大小的最大最小值，配合body加上最大宽度和最小宽度</p> <div class="language-css extra-class"><pre class="language-css"><code>// rem 单位换算：定为 75px 只是方便运算，750px-75px、640-64px、1080px-108px，如此类推
$<span class="token property">vm_fontsize</span><span class="token punctuation">:</span> 75<span class="token punctuation">;</span> // iPhone 6尺寸的根元素大小基准值
<span class="token atrule"><span class="token rule">@function</span> <span class="token function">rem</span><span class="token punctuation">(</span>$px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
     <span class="token atrule"><span class="token rule">@return</span> <span class="token punctuation">(</span>$px / $vm_fontsize <span class="token punctuation">)</span> * 1rem<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
// 根元素大小使用 vw 单位
$<span class="token property">vm_design</span><span class="token punctuation">:</span> 750<span class="token selector">;
html</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>$vm_fontsize / <span class="token punctuation">(</span>$vm_design / 2<span class="token punctuation">)</span><span class="token punctuation">)</span> * 100vw<span class="token punctuation">;</span> 
    // 同时，通过Media Queries 限制根元素最大最小值
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 64px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 540px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 108px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">// body 也增加最大最小宽度限制，避免默认100%宽度的 block 元素跟随 body 而过大过小
body</span> <span class="token punctuation">{</span>
    <span class="token property">max-width</span><span class="token punctuation">:</span> 540px<span class="token punctuation">;</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="px-适配"><a href="#px-适配" class="header-anchor">#</a> px 适配</h3> <p>px+flex+百分比</p> <p>新闻，社区等可阅读内容较多的场景直接使用px单位，传统的响应式布局依然是很好的选择，<code>px</code>方案可以让大屏幕手机展示出更多的内容，更符合人们的阅读习惯</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>对视觉组件种类较多，视觉设计对元素位置的相对关系依赖较强的移动端页面：<code>vw + rem</code></p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fe/fe/函数.html" class="prev">
        函数
      </a></span> <span class="next"><a href="/fe/fe/面经.html">
        面经
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/fe/assets/js/app.d23a5e43.js" defer></script><script src="/fe/assets/js/2.c035809e.js" defer></script><script src="/fe/assets/js/8.97cae8c9.js" defer></script>
  </body>
</html>
